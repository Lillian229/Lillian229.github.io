(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{503:function(s,a,e){"use strict";e.r(a);var t=e(34),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"webpack开发服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack开发服务器"}},[s._v("#")]),s._v(" Webpack开发服务器")]),s._v(" "),e("h2",{attrs:{id:"_4-0-webpack开发服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-0-webpack开发服务器"}},[s._v("#")]),s._v(" 4.0.webpack开发服务器")]),s._v(" "),e("p",[s._v("文档地址: https://webpack.docschina.org/configuration/dev-server/")]),s._v(" "),e("p",[s._v("抛出问题: 每次修改代码, 都需要重新 yarn build 打包, 才能看到最新的效果, 实际工作中, 打包 yarn build 非常费时 (30s - 60s) 之间")]),s._v(" "),e("p",[s._v("为什么费时?")]),s._v(" "),e("ol",[e("li",[s._v("构建依赖")]),s._v(" "),e("li",[s._v("磁盘读取对应的文件到内存, 才能加载")]),s._v(" "),e("li",[s._v("用对应的 loader 进行处理")]),s._v(" "),e("li",[s._v("将处理完的内容, 输出到磁盘指定目录")])]),s._v(" "),e("p",[s._v("解决问题: 起一个开发服务器,  在电脑内存中打包, 缓存一些已经打包过的内容, 只重新打包修改的文件, 最终运行加载在内存中给浏览器使用")]),s._v(" "),e("h2",{attrs:{id:"_4-1-webpack-dev-server自动刷新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-webpack-dev-server自动刷新"}},[s._v("#")]),s._v(" 4.1.webpack-dev-server自动刷新")]),s._v(" "),e("blockquote",[e("p",[s._v("目标: 启动本地服务, 可实时更新修改的代码, 打包"),e("strong",[s._v("变化代码")]),s._v("到内存中, 然后直接提供端口和网页访问")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("下载包")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" webpack-dev-server -D\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("配置自定义命令")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("scripts")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),e("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),e("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"serve"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack serve"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("运行命令-启动webpack开发服务器")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" serve\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#或者 npm run serve")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("总结: 以后改了src下的资源代码, 就会直接更新到内存打包, 然后反馈到浏览器上了")])]),s._v(" "),e("h2",{attrs:{id:"_4-2-webpack-dev-server配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-webpack-dev-server配置"}},[s._v("#")]),s._v(" 4.2.webpack-dev-server配置")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("在webpack.config.js中添加服务器配置")]),s._v(" "),e("p",[s._v("更多配置参考这里: https://webpack.docschina.org/configuration/dev-server/#devserverafter")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...其他配置")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 端口号")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);